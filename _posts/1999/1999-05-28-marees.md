---
post_id: 2139
title: 'MarEtud &#8211; PrÃ©vision des MarÃ©es (TIPE)'
date: '1999-05-28T13:35:35+02:00'

author: 'RÃ©mi Peyronnet'
layout: post
guid: '/?p=2139'
slug: marees
permalink: /1999/05/marees/
URL_before_HTML_Import: 'http://www.lprp.fr/marees/marees.php3'
image: /files/old-web/marees/maretud_scr_main_predict.png
categories:
    - Informatique
tags:
    - Etudes
    - MarÃ©es
    - OldWeb
    - Prog
lang: fr
---

En classes prÃ©paratoire, une des Ã©preuves des concours est un TIPE (Travail dâ€™Initiative Personnelle EncadrÃ©e). Ce TIPE a pour objectif de nous faire travailler sur un sujet que lâ€™on choisit (dans le thÃ¨me â€œTerre et Espaceâ€), et que lâ€™on aura Ã  prÃ©senter Ã  un jury. Comme projet jâ€™ai choisi lâ€™Ã©tude des MarÃ©es et leur prÃ©diction.

Dans le cadre de ce projet, jâ€™ai rÃ©alisÃ© un programme qui permet :

1. de prÃ©dire les marÃ©es, la hauteur dâ€™eau ou les horaires pour un lieu dÃ©terminÃ©,
2. de dÃ©terminer les constantes nÃ©cessaires au calcul, pour que ce programme soit utilisable par tous.

Documents TIPE : [Fiche synoptique](/files/old-web/marees/tipe_synopt.doc), [PrÃ©sentation](/files/old-web/marees/tipe_marcol.doc).

Le logiciel utilisÃ© est plutÃ´t ancien (initialement prÃ©vu pour Win 3.1). Vous pouvez le tÃ©lÃ©charger ci-dessous, mais si seule la partie prÃ©diction vous intÃ©resse, les programmes basÃ©s sur XTide devrait rÃ©pondre Ã  vos attentes.

# MarEtud

MarEtud est un logiciel spÃ©cialement prÃ©vu pour comprendre la prÃ©diction des marÃ©es, et de la faire soi-mÃªme pas Ã  pas. Ce logiciel vous permettra ainsi de faire des prÃ©dictions de marÃ©es Ã  partir dâ€™ondes harmoniques (un peu comme tous les logiciels qui font Ã§a bien mieux), mais Ã©galement de pouvoir calculer ces harmoniques, et comprendre comment cela fonctionne.

# TÃ©lÃ©charger MarEtud

Programme : [maretud.zip](/files/old-web/marees/maretud.zip) : contient le programme, son fichier dâ€™aide, et les sources. Les sources sont uniquement destinÃ©es Ã  un usage informatif.

DonnÃ©es de ports FranÃ§ais pour XTide : Attention, ces donnÃ©es sont trÃ¨s anciennes et visiblement peu fiables. [xtide\_france](/files/old-web/marees/xtide_france) Ã  ajouter Ã  un fichier harmonics.txt compatible (attention, format trÃ¨s ancien !)

Le [SHOM](http://www.shom.fr/) permet dâ€™obtenir des fichiers de relevÃ©s de hauteur dâ€™eau nÃ©cessaires Ã  la dÃ©termination des constantes harmoniques.

## Fonctions de visualisation de la marÃ©e

Le logiciel permet de regarder simultanÃ©ment lâ€™enregistrement des hauteurs dâ€™eau, et la marÃ©e prÃ©dite. Cela permet de comparer facilement les deux rÃ©sultats, et pouvoir observer et comprendre les diffÃ©rences (mÃ©tÃ©o, tenue du plein, â€¦)

Une autre fonctionnalitÃ© intÃ©ressante est celle de pouvoir faire facilement changer lâ€™Ã©chelle dâ€™affichage, Ã  lâ€™aide de la barre de dÃ©filement de droite. Une vision sur un mois met ainsi en Ã©vidence lâ€™importance des phases de la lune, et sur plusieurs mois, montre que cela nâ€™est pas la seule variable.

![Ecran principal](/files/old-web/marees/maretud_scr_main1.png)  
![Ecran principal - large](/files/old-web/marees/maretud_scr_main_wide.png)![Ecran principal - large](/files/old-web/marees/maretud_scr_main_wider.png)

## Fonctions de dÃ©termination de nouvelles pÃ©riodes

Le logiciel propose Ã©galement de dÃ©terminer les variables harmoniques Ã  lâ€™aide de pÃ©riodes prÃ©-enregistrÃ©es. Mais il propose Ã©galement un moyen intÃ©ressant de dÃ©termination des ondes harmoniques expÃ©rimental, par balayage du spectre, et dÃ©termination de lâ€™onde maximum. Cette onde est ensuite retirÃ©e, et le processus est itÃ©rÃ©. Nous pouvons constater quâ€™en usant de ce procÃ©dÃ©, le pic de lâ€™onde semi-diurne est correctement repÃ©rÃ©, puis disparait complÃ¨tement lorsque cette seule onde est enlevÃ©e (cf â€œTentative FFTâ€ pour une idÃ©e de mÃ©thode directe, mais qui ne fonctionne pas). La mÃ©thode est longue (environ 2mn par itÃ©ration sur une machine 2GHz pour traiter un fichier dâ€™une dizaine dâ€™annÃ©es), mais efficace (dans une dÃ©marche expÃ©rimentale, sinon utilisez les valeurs prÃ©-enregistrÃ©es :-).

![Determination d'une onde](/files/old-web/marees/maretud_scr_det_onde1.png)  
![Determination d'une onde](/files/old-web/marees/maretud_scr_det_onde2.png)  
![Gestion de la liste des ondes](/files/old-web/marees/maretud_scr_gestondes.png)

## Fonctions plus classiques

Le logiciel propose Ã©galement un Ã©cran de prÃ©diction pour les jours futurs (le but ultime de tout Ã§a en fait :-), ainsi quâ€™une possibilitÃ© de gÃ©nÃ©ration des tables horaires (exportable dans un tableur pour peaufiner un peu la mise en page).

![Ecran de prediction](/files/old-web/marees/maretud_scr_main_predict.png)  
![Calcul des horaires](/files/old-web/marees/maretud_scr_timetables.png)

# Tentative dâ€™une mÃ©thode directe utilisant la FFT

## Pouquoi ?

Le processus itÃ©ratif dÃ©crit plus haut est bien, mais lent : il faut balayer de maniÃ¨re assez fine tout le spectre, pour pouvoir trouver quelquechose, et dÃ¨s que la quantitÃ© de donnÃ©es augmente, les temps de calculs deviennent de plus en plus longs (en O(n)).

Pourtant, cette dÃ©termination automatique est intÃ©ressante, dâ€™une part parceque lâ€™on ne connait pas forcÃ©ment toutes les pÃ©riodes cosmiques et leur harmoniques qui peuvent rentrer en jeu, mais il peut sâ€™y ajouter dâ€™autre phÃ©nomÃ¨nes, de type rÃ©sonnance, mÃ©tÃ©o cyclique,â€¦

## Lâ€™idÃ©e de base

Lâ€™idÃ©e de base est de se dire que les points rÃ©sultants de la FFT sont globalement situÃ©s sur une courbe assimilable au sinus cardinal que lâ€™on obtient en transformÃ©e de Fourier classique (le processus utilisÃ© dans MarEtud). Or nous connaissons parfaitement lâ€™Ã©quation du sinus cardinal ( sinc(x) = sin(x)/x ).

![explication](/files/old-web/marees/sinuscardinal_expl.png)

Nommons p0 le point dâ€™intensitÃ© maximum dÃ©tectÃ© par la FFT, et p-1, p1 les deux points strictement avant et aprÃ¨s ce point. En supposant que ces deux points sont situÃ©s sur le mÃªme lobe (et câ€™est justement la le hic), alors il est possible de remonter directement Ã  la coordonnÃ©e du centre du lobe. Grace Ã  lâ€™Ã©tendue temporelle de nos enregistrements, nous connaissons la largeur dâ€™un lobe. Par contre, nous ne connaissons pas son hauteur. Pour sâ€™affranchir de cette hauteur, nous allons faire le rapport de la hauteur de p-1 et p1, que nous noterons â€˜râ€™. Jâ€™ai prÃ©fÃ©rÃ© prendre p-1 et p1 pour des raisons de symÃ©tries, mais rien nâ€™empeche de prendre p0. En ayant normÃ© notre fonction suivant x et y, nous sommes capable de la confronter Ã  la thÃ©orie.

Il ne nous reste plus quâ€™Ã  rÃ©soudre lâ€™Ã©quation r = h(x), avec h(x) = sinc(x+1)/sinc(x-1). Cette equation est assez simple a rÃ©soudre, car la courbe est relativement linÃ©aire, et trÃ¨s bien approchÃ©e par un polynÃ´me de degrÃ© 3. La valeur de x nous donnera la coordonnÃ©es de p0 par rapport Ã  lâ€™origine locale du lobe. Et nous avons alors exactement ce que nous voulons : lâ€™emplacement aussi prÃ©cis que nous le voulons (par la prÃ©cision de la rÃ©solution de lâ€™Ã©quation r = h(x) ), quasi directement aprÃ¨s une FFT.

## Pourquoi cela ne marche pas

Câ€™est trÃ¨s simple, le prÃ©-requis dâ€™avoir plusieurs points de FFT sur un lobe nâ€™est pas rempli. Voici un simple graphique Excel pour sâ€™en convaincre :

![pourquoi cela ne marche pas](/files/old-web/marees/badidea_whythiscannotwork.png)

On retrouve naturellement ce rÃ©sultat par le calcul (on trouve en fait quâ€™il y a une mesure de FFT pour PI lobes du sinus cardinal, et non pas PI mesures pour un lobe, comme jâ€™avais trouvÃ© avant de me lancer la dedans ğŸ™‚

## Plus dâ€™information ?

Jâ€™ai Ã©crit quelques programmes et scripts Scilab pour tester la faisabilitÃ© du procÃ©dÃ©. Comme cela nâ€™a pas abouti, je nâ€™ai pas jugÃ© bon de les mettre Ã  disposition, mais si cela vous intÃ©resse, il vous suffit de mâ€™Ã©crire un mail.